<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Mini Clash Royale Clone</title>
  <style>
    body {
      font-family: sans-serif;
      margin: 0;
      background: #444;
      color: white;
    }
    #game {
      width: 800px;
      margin: 20px auto;
      border: 2px solid #333;
      background: #2a2a2a;
      position: relative;
      height: 500px;
      overflow: hidden;
    }

    .unit {
      width: 40px;
      height: 40px;
      background: gold;
      position: absolute;
      bottom: 0;
      border-radius: 50%;
      text-align: center;
      line-height: 40px;
      font-weight: bold;
      animation: walk 10s linear forwards;
    }

    .cpu-unit {
      background: crimson;
      top: 0;
      animation: walk-down 10s linear forwards;
    }

    @keyframes walk {
      from { left: 0; bottom: 0; }
      to { left: 100%; bottom: 100%; }
    }

    @keyframes walk-down {
      from { left: 100%; top: 0; }
      to { left: 0%; top: 100%; }
    }

    #hand {
      display: flex;
      justify-content: center;
      margin-top: 20px;
    }

    .card {
      background: #666;
      color: white;
      border: 1px solid #aaa;
      border-radius: 6px;
      padding: 10px;
      margin: 0 5px;
      cursor: pointer;
      width: 80px;
      text-align: center;
    }

    .card:hover {
      background: #888;
    }
  </style>
</head>
<body>

<div id="game"></div>

<div id="hand"></div>

<script>
  const playerDeck = ["Knight", "Archer", "Giant", "Wizard", "Bomber", "Mini P.E.K.K.A"];
  const cpuDeck = ["Goblin", "Spear Goblin", "Valkyrie", "Hog Rider", "Skeletons", "Witch"];

  let playerHand = [];
  let cpuHand = [];

  const game = document.getElementById("game");
  const handDiv = document.getElementById("hand");

  function drawHand(deck) {
    let shuffled = [...deck].sort(() => 0.5 - Math.random());
    return shuffled.slice(0, 3);
  }

  function rotateCard(hand, deck, usedCard) {
    const index = hand.indexOf(usedCard);
    if (index > -1) {
      const remainingDeck = deck.filter(c => !hand.includes(c));
      if (remainingDeck.length > 0) {
        const newCard = remainingDeck[Math.floor(Math.random() * remainingDeck.length)];
        hand[index] = newCard;
      }
    }
    return hand;
  }

  function renderHand() {
    handDiv.innerHTML = '';
    playerHand.forEach(card => {
      const cardDiv = document.createElement("div");
      cardDiv.className = "card";
      cardDiv.innerText = card;
      cardDiv.onclick = () => {
        spawnUnit(card, "player");
        playerHand = rotateCard(playerHand, playerDeck, card);
        renderHand();
      };
      handDiv.appendChild(cardDiv);
    });
  }

  function spawnUnit(name, side) {
    const unit = document.createElement("div");
    unit.className = "unit";
    unit.innerText = name[0];
    if (side === "cpu") {
      unit.classList.add("cpu-unit");
    }
    game.appendChild(unit);

    // Remove after animation (10s)
    setTimeout(() => unit.remove(), 10000);
  }

  function cpuPlay() {
    const card = cpuHand[Math.floor(Math.random() * cpuHand.length)];
    spawnUnit(card, "cpu");
    cpuHand = rotateCard(cpuHand, cpuDeck, card);

    // Schedule next CPU move
    const delay = 4000 + Math.random() * 1000;
    setTimeout(cpuPlay, delay);
  }

  // Initialize
  playerHand = drawHand(playerDeck);
  cpuHand = drawHand(cpuDeck);
  renderHand();
  cpuPlay();
</script>

</body>
</html>
